name: Validate Translations

on:
  pull_request:
    paths:
      - 'docs/**/*.md'
      - 'README.md'
      - 'QUICKSTART.md'
  push:
    branches: [main]
    paths:
      - 'docs/**/*.md'
      - 'README.md'
      - 'QUICKSTART.md'

jobs:
  validate:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v6

      - name: Check translation completeness
        run: |
          chmod +x scripts/translate-docs.sh
          ./scripts/translate-docs.sh --status

      - name: Validate translations exist
        run: |
          chmod +x scripts/translate-docs.sh
          ./scripts/translate-docs.sh --validate || echo "::warning::Some translations are missing"

      - name: Check broken links (optional)
        run: |
          # 安装 markdown-link-check (可选)
          # npm install -g markdown-link-check
          # find docs -name "*.md" -exec markdown-link-check {} \;
          echo "Link checking skipped (not implemented yet)"
